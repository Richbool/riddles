<!DOCTYPE html>
<html>
<head>
    <title>å…ƒå®µç¯è°œ - xrq-rich.com</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <!-- ç¯ç¬¼å®¹å™¨ -->
    <div class="lanterns">
        <div class="lantern">ğŸ®</div>
        <div class="lantern">ğŸ®</div>
        <div class="lantern">ğŸ®</div>
    </div>
    
    <div class="container">
        <h1>ğŸ® å…ƒå®µç¯è°œå¤§ä¼š</h1>
        
        <!-- æ·»åŠ è¡¨å• -->
        <div class="card">
            <h2>ğŸ“œ æ·»åŠ æ–°ç¯è°œ</h2>
            <form action="/" method="post">
                <input type="text" name="riddle" placeholder="ç¯è°œå†…å®¹" required>
                <input type="text" name="answer" placeholder="æ­£ç¡®ç­”æ¡ˆ" required>
                <button type="submit">ğŸ’¾ ä¿å­˜</button>
            </form>
        </div>

        <!-- çŒœè°œåŒº -->
        <div class="card">
            <h2>ğŸ” çŒœç¯è°œ</h2>
            {% if current %}
                <div class="current-riddle">
                    {{ current }}
                    <form action="/guess" method="post">
                        <input type="text" name="answer" placeholder="è¾“å…¥ç­”æ¡ˆ" required>
                        <button type="submit">ğŸ¯ æäº¤</button>
                    </form>
                </div>
            {% else %}
                <a href="/guess" class="btn">âœ¨ éšæœºæŠ½é¢˜</a>
            {% endif %}
            
            <!-- ç»“æœå±•ç¤º -->
            {% if result %}
                <div class="result {{ 'correct' if result.is_correct else 'wrong' }}">
                    {% if result.is_correct %}
                        <div class="celebrate">ğŸ‰ æ­£ç¡®ï¼</div>
                    {% else %}
                        <div class="answer-box">
                            <div>âŒ ä½ çš„ç­”æ¡ˆï¼š{{ result.user_answer }}</div>
                            <div>âœ… æ­£ç¡®ç­”æ¡ˆï¼š{{ result.correct_answer }}</div>
                        </div>
                    {% endif %}
                    <div class="actions">
                        <a href="/guess" class="btn">â¡ï¸ ä¸‹ä¸€é¢˜</a>
                        {% if not result.is_correct %}
                        <button onclick="retry()">ğŸ”„ é‡è¯•</button>
                        {% endif %}
                    </div>
                </div>
            {% endif %}
        </div>

        <!-- é¢˜åº“çŠ¶æ€ -->
        <div class="stats">
            å½“å‰é¢˜åº“ï¼š{{ riddles|length }} æ¡
            {% if error %}<div class="error">{{ error }}</div>{% endif %}
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
