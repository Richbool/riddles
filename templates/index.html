<!DOCTYPE html>
<html>
<head>
    <title>å…ƒå®µç¯è°œå¤§ä¼š</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ† å…ƒå®µç¯è°œå¤§ä¼š - xrq-rich.com</h1>
        
        <!-- æ·»åŠ ç¯è°œè¡¨å• -->
        <div class="section">
            <h2>ğŸ“ æ·»åŠ æ–°ç¯è°œ</h2>
            <form action="/" method="post" onsubmit="lockForm(this)">
                <input type="text" name="riddle" placeholder="è¾“å…¥ç¯è°œå†…å®¹" required>
                <input type="text" name="answer" placeholder="è¾“å…¥æ­£ç¡®ç­”æ¡ˆ" required>
                <button type="submit">æ·»åŠ é¢˜åº“</button>
            </form>
        </div>

        <!-- çŒœç¯è°œæ¨¡å— -->
        <div class="section">
            <h2>ğŸ¯ çŒœç¯è°œ</h2>
            {% if current_riddle %}
                <div class="riddle-box">
                    <p class="riddle-text">{{ current_riddle }}</p>
                    <form action="/guess" method="post" onsubmit="handleSubmit(this)">
                        <input type="text" name="answer" placeholder="è¾“å…¥ä½ çš„ç­”æ¡ˆ" required>
                        <button type="submit">æäº¤ç­”æ¡ˆ</button>
                    </form>
                </div>
            {% else %}
                <a href="/guess" class="btn" onclick="showLoader()">è·å–é¢˜ç›®</a>
            {% endif %}
            
            <!-- ç»“æœå±•ç¤º -->
            {% if result %}
                <div class="result {{ 'correct' if result.is_correct else 'wrong' }}">
                    {% if result.is_correct %}
                        âœ… æ­å–œç­”å¯¹äº†ï¼
                    {% else %}
                        âŒ æ­£ç¡®ç­”æ¡ˆï¼š{{ result.correct_answer }}
                        <p class="user-answer">ä½ çš„ç­”æ¡ˆï¼š{{ result.user_answer }}</p>
                    {% endif %}
                    <a href="/guess" class="btn">ä¸‹ä¸€é¢˜</a>
                </div>
            {% endif %}
        </div>

        <!-- é¢˜åº“ç»Ÿè®¡ -->
        <div class="stats">
            å½“å‰é¢˜åº“å…±æœ‰ {{ riddles|length }} é“ç¯è°œ
            {% if error %}<div class="error">{{ error }}</div>{% endif %}
        </div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>
